<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Geography Trivia Game</title>

    <!-- <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script> -->

    <script type="text/javscript" src="assets/javascript/game.js">
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


</head>
    <h1>Geography Trivia Game!</h1>
<body>

    <div class=container>

        <div class="row"> 

            <div class="col-md-6" id="portrait">
            <img src="assets/images/1200px-Equal_Earth_projection_SW-1.jpg" height="300px" width="300px">
            </div>

            <div class="col-md-6" id="wordGame">
                <div class="row">
                    <h2>Press any key to get started!</h2>

                    <h3>Wins:<span id="wins">0</span></h3>

                    <h3>Losses:<span id="losses">0</span></h3>

                    <h3>Current Word:<span id="progressingWord"></span></h3>
                </div>
                <div class="row">
                    <h3>
                        Number of guesses remaining: <span id="remain">8</span>
                    </h3>
                </div>
                <div class="row">
                    <h3>Letters already guessed: <span id="lettersGuessed"></span></h3>
                </div>
            </div>

        </div>
    </div>

    <script>
        

            <!-- Random words to be chosen from using array -->
             var places = [
                "denali", 
                "tokyo",
                "singapore",
                "indonesia",
                "italy",
                "instanbul",
                "berkeley"
            ];

            var chosenPlace = "";

            var lettersinChosenPlace = [];

            var numBlanks = 0;

            var blanksandSuccesses = [];

            var wrongGuesses = [];

            var letterGuessed = "";

            var wins = 0;
            var losses = 0;
            var numGuesses = 8;

            function startGame() {

                numGuesses = 8;
                chosenPlace = places[Math.floor(Math.random() * places.length)];
            

            lettersInChosenPlace = chosenPlace.split ("");

            numBlanks = lettersInChosenPlace.length;

             console.log(chosenPlace);

            blanksandSuccesses = [];

            wrongGuesses = [];

            for (var i = 0; i < numBlanks; i++) {
                blanksandSuccesses.push("_");
            }

            console.log(blanksandSuccesses);

            document.getElementById ("remain").innerHTML = numGuesses;

            document.getElementbyId("progressingWord").innerHTML = blanksandSuccesses.join (" ");

            document.getElementById("losses").innerHTML = losses.join(" ");

            function checkLetters(Letter) {
                var letterInWord = false;
                
            for (var i=0; i <numBlanks; i++) {
                if (chosenPlace[i] === letter) {
                letterInWord = true;
                }
            }

            if (letterInWord) {
                for (var j = 0; j < numBlanks; j++)
            {
            
            if (chosenPlace[j] === letter) {
            
                blanksandSuccesses[j] = letter;
            }
        }

        console.log(blanksandSuccesses);
    }

        else {
            wrongGuesses.push(letter);

            numGuesses--;
        }

        function roundComplete() {

// First, log an initial status update in the console
// telling us how many wins, losses, and guesses are left.
console.log("wins: " + winCounter + " | loses: " + lossCounter + " | NumGuesses: " + numGuesses);

// HTML UPDATES
// ============

// Update the HTML to reflect the new number of guesses.
document.getElementById("remain").innerHTML = numGuesses;

// This will print the array of guesses and blanks onto the page.
document.getElementById("progressiveWord").innerHTML = blanksAndSuccesses.join(" ");

// This will print the wrong guesses onto the page.
document.getElementById("wrong-guesses").innerHTML = wrongGuesses.join(" ");

// If our Word Guess string equals the solution.
// (meaning that we guessed all the letters to match the solution)...
if (lettersInChosenWord.toString() === blanksAndSuccesses.toString()) {

  // Add to the win counter
  winCounter++;

  // Give the user an alert
  alert("You win!");

  // Update the win counter in the HTML
  document.getElementById("wins").innerHTML = winCounter;

  // Restart the game
  startGame();
}

// If we've run out of guesses
else if (numGuesses === 0) {

  // Add to the loss counter
  lossCounter++;

  // Give the user an alert
  alert("You lose");

  // Update the loss counter in the HTML
  document.getElementById("losses").innerHTML = lossCounter;

  // Restart the game
  startGame();

}

}

// MAIN PROCESS (THIS IS THE CODE THAT CONTROLS WHAT IS ACTUALLY RUN)
// ==================================================================

// Starts the Game by running the startGame() function
startGame();

// Then initiates the function for capturing key clicks.
document.onkeyup = function(event) {

// Converts all key clicks to lowercase letters.
letterGuessed = String.fromCharCode(event.which).toLowerCase();

// Runs the code to check for correct guesses.
checkLetters(letterGuessed);

// Runs the code that ends each round.
roundComplete();
};

            
    
        </script>
</body>
</html>